This is a testharness.js-based test.
PASS .foo {
  & { color: green; }
}
PASS .foo {
  &.bar { color: green; }
}
PASS .foo {
  & .bar { color: green; }
}
PASS .foo {
  & > .bar { color: green; }
}
PASS .foo {
  &:is(.bar, &.baz) { color: green; }
}
PASS .foo {
  .bar& { color: green; }
}
PASS .foo {
  .bar & { color: green; }
}
PASS .foo {
  .bar > & { color: green; }
}
PASS .foo, .bar {
  & + .baz, &.qux { color: green; }
}
PASS .foo {
  & .bar & .baz & .qux { color: green; }
}
FAIL .foo {
  @media (min-width: 50px) {
  & { color: green; }
}
} assert_equals: expected ".foo {\n  @media (min-width: 50px) {\n  & { color: green; }\n}\n}" but got ".foo {\n  @media (min-width: 50px) { color: green; }\n}"
PASS .foo {
  @media (min-width: 50px) { color: green; }
}
PASS main {
  & > section, & > article {
  & > header { color: green; }
}
}
Harness: the test ran to completion.

